<!-- Include Meta Tags Here -->
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1 user-scalable=no, shrink-to-fit=no">
<meta content='#000000' name='theme-color'/>
<meta name="keywords" content="{{site.site-keywords}}">
<title>{{site.title}}{% if page.title %} | {{page.title}}{% endif %}</title>

<!-- Robots Control -->
<meta name="robots" content="index, follow">
<meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
<meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">

<!-- Canonical URL -->
<link rel="canonical" href="{{site.url}}{{site.baseurl}}{{page.url}}">

<!-- Search Engine -->
<meta name="description" content="{% unless page.layout == 'post' %}{{site.description}}{% else %}{{page.description}}{% endunless %}">
<meta name="image" content="{% unless page.layout == 'post' %}{{site.site-image}}{% else %}{{page.post-image}}{% endunless %}">
<meta name="author" content="{{site.author-name}}"/>

<!-- Schema.org for Google -->
<meta itemprop="name" content="{{site.title}}{% if page.title %} | {{page.title}}{% endif %}">
<meta itemprop="description" content="{% unless page.layout == 'post' %}{{site.description}}{% else %}{{page.description}}{% endunless %}">
<meta itemprop="image" content="{% unless page.layout == 'post' %}{{site.site-image}}{% else %}{{page.post-image}}{% endunless %}">

<!-- Open Graph general (Facebook, Pinterest & Google+) -->
<meta name="og:title" content="{{site.title}}{% if page.title %} | {{page.title}}{% endif %}">
<meta name="og:description" content="{% unless page.layout == 'post' %}{{site.description}}{% else %}{{page.description}}{% endunless %}">
<meta name="og:image" content="{% unless page.layout == 'post' %}{{site.site-image}}{% else %}{{page.post-image}}{% endunless %}">
<meta name="og:image:alt" content="{{site.title}}{% if page.title %} | {{page.title}}{% endif %}">
<meta name="og:url" content="{{site.url}}{{site.baseurl}}{{page.url}}">
<meta name="article:author" content="https://www.facebook.com/{{site.facebook_username}}">
<meta name="og:site_name" content="{{site.title}}{% if page.title %} | {{page.title}}{% endif %}">
<meta name="og:type" content="{% if page.layout == 'post' %}article{% else %}website{% endif %}">
{% if page.layout == 'post' %}
<meta property="article:published_time" content="{{page.date | date_to_xmlschema}}">
<meta property="article:modified_time" content="{% if page.last_modified_at %}{{page.last_modified_at | date_to_xmlschema}}{% else %}{{page.date | date_to_xmlschema}}{% endif %}">
{% if page.categories %}<meta property="article:section" content="{{page.categories[0]}}">{% endif %}
{% for tag in page.tags %}<meta property="article:tag" content="{{tag}}">
{% endfor %}
{% endif %}

<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image"/>
<meta name="twitter:title" content="{{site.title}}{% if page.title %} | {{page.title}}{% endif %}">
<meta name="twitter:description" content="{% unless page.layout == 'post' %}{{site.description}}{% else %}{{page.description}}{% endunless %}">
<meta name="twitter:site" content="@{{site.twitter_username}}">
<meta name="twitter:creator" content="@{{site.twitter_username}}">
<meta name="twitter:image:src" content="{% unless page.layout == 'post' %}{{site.site-image}}{% else %}{{page.post-image}}{% endunless %}">

<!-- Favicons -->
<link rel="apple-touch-icon" sizes="180x180" href="{{site.baseurl}}/assets/images/favicon/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="{{site.baseurl}}/assets/images/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="{{site.baseurl}}/assets/images/favicon/favicon-16x16.png">
<link rel="manifest" href="{{site.baseurl}}/assets/images/favicon/site.webmanifest">

<!-- JSON-LD Structured Data -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  {% if page.layout == 'post' %}
  "@type": "BlogPosting",
  "headline": "{{page.title}}",
  "image": "{{page.post-image}}",
  "datePublished": "{{page.date | date_to_xmlschema}}",
  "dateModified": "{% if page.last_modified_at %}{{page.last_modified_at | date_to_xmlschema}}{% else %}{{page.date | date_to_xmlschema}}{% endif %}",
  {% if page.categories %}"articleSection": "{{page.categories[0]}}",{% endif %}
  {% if page.tags %}"keywords": "{% for tag in page.tags %}{{tag}}{% unless forloop.last %}, {% endunless %}{% endfor %}",{% endif %}
  "description": "{{page.description}}",
  {% else %}
  "@type": "WebSite",
  "headline": "{{site.title}}",
  "url": "{{site.url}}{{site.baseurl}}",
  "name": "{{site.title}}",
  "description": "{{site.description}}",
  {% endif %}
  "author": {
    "@type": "Person",
    "name": "{{site.author-name}}"
  },
  "publisher": {
    "@type": "Organization",
    "name": "{{site.title}}",
    "logo": {
      "@type": "ImageObject",
      "url": "{{site.url}}{{site.baseurl}}/assets/images/logo.png"
    }
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "{{site.url}}{{site.baseurl}}{{page.url}}"
  }
}
</script>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=GT-WKP789Q"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  
  // Load the Google tag
  gtag('config', 'GT-WKP789Q');
  
  // Also load GA4 measurement
  gtag('config', '{{site.google-analytics}}');
  
  // Verification
  console.log('Google tag initialized with ID: GT-WKP789Q and GA4: {{site.google-analytics}}');
</script>

<!-- Google Tag Manager code can be removed since we're using Google tag -->

<!-- Simple Analytics Verification -->
<script>
    // Send a verification pageview to confirm tracking is working
    if (window.location.hostname !== 'localhost' && window.location.hostname !== '127.0.0.1') {
        gtag('event', 'page_view', {
            'debug_mode': true
        });
        console.log('Analytics pageview sent for verification');
    }
</script>

<!-- Heatmap/Session Recording Compatibility -->
<script>
    // This empty script allows for easy installation of heatmap tools
    // such as Hotjar or Microsoft Clarity through GTM
    // without modifying the main codebase
</script>